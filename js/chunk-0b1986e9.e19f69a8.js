(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0b1986e9"],{"580c":function(e,t,a){},e161:function(e,t,a){"use strict";a.r(t);var o={data:function(){return{loading:!1,modalDele:!1,modal:!1,columns:[{title:"仓库名称",key:"WhName"},{title:"地址",key:"Address"},{title:"联系人",key:"Contacts"},{title:"联系电话",key:"ContactNumber"},{title:"添加人",key:"AddUserName"},{title:"添加时间",key:"AddDate"},{title:"操作",slot:"action",width:140,align:"center"}],data:[],id:null,page:null,query:{Search:"",pageSize:null,pageIndex:null},form:{WhName:"",Address:"",Contacts:"",ContactNumber:""},ruleValidate:{WhName:[{required:!0,message:"请输入仓库名称",trigger:"blur"}]}}},created:function(){this.getWarehouse()},methods:{updateColumns:function(e){this.columns=e},search:function(){this.page=null,this.getWarehouse()},getWarehouse:function(){var e=this;this.loading=!0,this.page?(this.query.pageSize=this.page.pageSize,this.query.pageIndex=this.page.pageIndex):(this.query.pageSize=10,this.query.pageIndex=1),this.$api("POST","/Warehouse/GetWarehouseList",this.query).then(function(t){e.loading=!1,0===t.ErrorCode&&(e.data=t.Data.WarehouseList,e.page={pageCount:t.Data.Total,pageIndex:e.query.pageIndex,pageSize:e.query.pageSize})})},onChange:function(e){this.page.pageIndex=1*e,this.getWarehouse()},onPageSizeChange:function(e){this.page.pageSize=1*e,this.getWarehouse()},add:function(){this.modal=!0},handle:function(e){var t=this;this.id=this.data[e].Id,this.$api("GET","/Warehouse/GetWarehouseInfo?id=".concat(this.id)).then(function(e){0==e.ErrorCode&&(t.form=e.Data,t.modal=!0)})},remove:function(e){this.id=this.data[e].Id,this.modalDele=!0},dele:function(){var e=this;this.$api("GET","/Warehouse/DelectWarehouseInfo?id=".concat(this.id)).then(function(t){0==t.ErrorCode?(e.$Notice.success({title:"系统提示",desc:"删除成功"}),e.modalDele=!1,e.getWarehouse()):e.$Notice.warning({title:"系统提示",desc:t.Message})})},save:function(){var e=this;this.$refs.ruleValidate.validate(function(t){if(t){var a="/Warehouse/AddWarehouseInfo";e.form.Id&&(a="/Warehouse/UpdateWarehouseInfo"),e.$api("POST",a,e.form).then(function(t){0==t.ErrorCode?(e.$Notice.success({title:"系统提示",desc:"保存成功"}),e.modal=!1,e.getWarehouse()):e.$Notice.warning({title:"系统提示",desc:t.Message})})}else e.$Notice.warning({title:"系统提示",desc:"请填写相关的信息"})})}}},n=(a("fad8"),a("2877")),r=Object(n.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"btn-bar clear"},[a("div",{staticClass:"fl"},[a("Button",{style:{marginRight:"6px"},attrs:{type:"info",icon:"md-add"},on:{click:e.add}},[e._v("添加仓库")]),a("Button",{attrs:{icon:"md-refresh"}},[e._v("刷新")])],1),a("div",{staticClass:"fr"},[a("Input",{staticStyle:{width:"200px"},style:{marginRight:"6px"},attrs:{placeholder:"请输入商品名称、商品条形码搜索"},model:{value:e.query.Search,callback:function(t){e.$set(e.query,"Search",t)},expression:"query.Search"}}),a("Button",{on:{click:e.search}},[e._v("搜索")]),a("FiltrateButton",{attrs:{columns:e.columns},on:{updateColumns:e.updateColumns}})],1)]),a("div",{staticClass:"table-section"},[a("Table",{attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data},scopedSlots:e._u([{key:"action",fn:function(t){t.row;var o=t.index;return[a("Button",{staticStyle:{"margin-right":"12px"},attrs:{type:"info",size:"small"},on:{click:function(t){return e.handle(o)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){return e.remove(o)}}},[e._v("删除")])]}}])})],1),e.page?a("iPage",{attrs:{pageSize:e.page.pageSize,current:e.page.pageIndex,total:e.page.pageCount},on:{onChange:e.onChange,onPageSizeChange:e.onPageSizeChange}}):e._e(),a("Modal",{attrs:{width:"360"},model:{value:e.modalDele,callback:function(t){e.modalDele=t},expression:"modalDele"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),a("span",[e._v("删除确认")])],1),a("div",{staticStyle:{"text-align":"center"}},[a("p",[e._v("确定要删除此信息吗？删除后将无法恢复")])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:""},on:{click:e.dele}},[e._v("删除")])],1)]),a("Modal",{attrs:{width:"500","footer-hide":!0,title:"编辑仓库"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("Form",{ref:"ruleValidate",attrs:{model:e.form,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"仓库名称",prop:"WhName"}},[a("Input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.form.WhName,callback:function(t){e.$set(e.form,"WhName",t)},expression:"form.WhName"}})],1),a("FormItem",{attrs:{label:"地址"}},[a("Input",{attrs:{placeholder:"请输入仓库地址"},model:{value:e.form.Address,callback:function(t){e.$set(e.form,"Address",t)},expression:"form.Address"}})],1),a("FormItem",{attrs:{label:"联系人"}},[a("Input",{attrs:{placeholder:"请输入联系人"},model:{value:e.form.Contacts,callback:function(t){e.$set(e.form,"Contacts",t)},expression:"form.Contacts"}})],1),a("FormItem",{attrs:{label:"联系电话"}},[a("Input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.form.ContactNumber,callback:function(t){e.$set(e.form,"ContactNumber",t)},expression:"form.ContactNumber"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.modal=!1}}},[e._v("取消")])],1)],1)],1)],1)},[],!1,null,"a76447d4",null);t.default=r.exports},fad8:function(e,t,a){"use strict";var o=a("580c");a.n(o).a}}]);