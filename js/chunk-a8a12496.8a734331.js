(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a8a12496"],{"9f65":function(t,e,a){"use strict";a.r(e);var n={data:function(){return{page:null,st:[{val:-1,text:"全部"},{val:0,text:"关闭"},{val:1,text:"正常"},{val:2,text:"待审核"},{val:3,text:"审核未通过"}],query:{keywords:"",Status:-1,pageSize:null,pageIndex:null},data:[],columns:[{title:"商户编码",key:"SubMerId"},{title:"商户名称",key:"SubMerName"},{title:"商户类型",key:"MerchantTypeName"},{title:"商户状态",key:"StatusName",width:100},{title:"所属运营商",key:"OperatorName"},{title:"添加人",key:"RecordUserName",width:110},{title:"添加时间",key:"RecordTime"},{title:"操作",slot:"action",width:180}]}},created:function(){this.getMerchant()},methods:{search:function(){this.query.keywords.trim().length?(this.page=null,this.getMerchant()):this.$Notice.warning({title:"系统提示",desc:"请输入搜索的关键字"})},seleChange:function(){this.page=null,this.getMerchant()},updateColumns:function(t){this.columns=t},getMerchant:function(){var t=this;this.loading=!0,this.page?(this.query.pageSize=this.page.pageSize,this.query.pageIndex=this.page.pageIndex):(this.query.pageSize=10,this.query.pageIndex=1),this.$api("POST","/Merchant/GetMerchantAuditList",this.query).then(function(e){t.loading=!1,0===e.ErrorCode?(t.data=e.Data,t.page={pageCount:e.TotalRecords,pageIndex:t.query.pageIndex,pageSize:t.query.pageSize}):t.$Notice.warning({title:"系统提示",desc:e.Message})})},onChange:function(t){this.page.pageIndex=1*t,this.getMerchant()},onPageSizeChange:function(t){this.page.pageSize=1*t,this.getMerchant()},handle:function(t){this.$router.push("/sub-account/approval/handle/".concat(this.data[t].Id))},show:function(t){this.$router.push("/sub-account/approval/show/".concat(this.data[t].Id))},close:function(t){var e=this;this.$api("POST","/Merchant/CloseMerchant",{Id:this.data[t].Id}).then(function(t){0==t.ErrorCode?(e.$Notice.success({title:"系统提示",desc:"操作成功"}),e.getMerchant()):e.$Notice.warning({title:"系统提示",desc:t.Message})})}}},i=(a("df56"),a("2877")),s=Object(i.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"btn-bar clear"},[a("div",{staticClass:"fl"},[a("Button",{style:{marginRight:"42px"},attrs:{icon:"md-refresh"},on:{click:t.getMerchant}},[t._v("刷新")]),a("span",{staticClass:"label",style:{marginRight:"6px"}},[t._v("商户状态")]),a("Select",{staticStyle:{width:"200px","margin-right":"16px"},on:{"on-change":t.seleChange},model:{value:t.query.Status,callback:function(e){t.$set(t.query,"Status",e)},expression:"query.Status"}},t._l(t.st,function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.text))])}),1)],1),a("div",{staticClass:"fr"},[a("Input",{staticStyle:{width:"200px"},style:{marginRight:"6px"},attrs:{placeholder:"请输入分账商户名称、公司名称搜索"},model:{value:t.query.keywords,callback:function(e){t.$set(t.query,"keywords",e)},expression:"query.keywords"}}),a("Button",{on:{click:t.search}},[t._v("搜索")]),a("FiltrateButton",{attrs:{columns:t.columns},on:{updateColumns:t.updateColumns}})],1)]),a("div",{staticClass:"table-section"},[a("Table",{attrs:{loading:t.loading,border:"",columns:t.columns,data:t.data},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.row,i=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"info",size:"small"},on:{click:function(e){return t.show(i)}}},[t._v("详情")]),2==n.Status?a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"info",size:"small"},on:{click:function(e){return t.handle(i)}}},[t._v("审批")]):a("Button",{staticStyle:{"margin-right":"5px"},attrs:{disabled:"",type:"info",size:"small"}},[t._v("审批")]),a("Button",{attrs:{disabled:1!=n.Status,type:"error",size:"small"},on:{click:function(e){return t.close(i)}}},[t._v("关闭")])]}}])})],1),t.page?a("iPage",{attrs:{pageSize:t.page.pageSize,current:t.page.pageIndex,total:t.page.pageCount},on:{onChange:t.onChange,onPageSizeChange:t.onPageSizeChange}}):t._e()],1)},[],!1,null,"3207a2a4",null);e.default=s.exports},df56:function(t,e,a){"use strict";var n=a("fa22");a.n(n).a},fa22:function(t,e,a){}}]);