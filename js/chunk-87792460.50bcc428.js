(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-87792460"],{"0334":function(e,t,a){"use strict";var n=a("8bb9");a.n(n).a},"285e":function(e,t,a){"use strict";a.r(t);var n={data:function(){return{loading:!1,page:null,modal:!1,modalDele:!1,id:null,query:{Search:"",pageSize:null,pageIndex:null},columns:[{title:"供应商名称",key:"VendorName"},{title:"地址",key:"Address"},{title:"联系人",key:"Contacts"},{title:"联系电话",key:"ContactNumber"},{title:"添加人",key:"AddUserName"},{title:"添加时间",key:"AddDate"},{title:"操作",slot:"action",width:150,align:"center"}],data:[],form:{VendorName:"",Address:"",Contacts:"",ContactNumber:""},ruleValidate:{VendorName:[{required:!0,message:"请输入供应商名称",trigger:"blur"}]}}},created:function(){this.getVendor()},methods:{updateColumns:function(e){this.columns=e},getVendor:function(){var e=this;this.loading=!0,this.page?(this.query.pageSize=this.page.pageSize,this.query.pageIndex=this.page.pageIndex):(this.query.pageSize=10,this.query.pageIndex=1),this.$api("POST","/Vendor/GetVendorList",this.query).then(function(t){e.loading=!1,0===t.ErrorCode?(e.data=t.Data.VendorList,e.page={pageCount:t.Data.Total,pageIndex:e.query.pageIndex,pageSize:e.query.pageSize}):e.$Notice.warning({title:"系统提示",desc:t.Message})})},onChange:function(e){this.page.pageIndex=1*e,this.getVendor()},onPageSizeChange:function(e){this.page.pageSize=1*e,this.getVendor()},add:function(){this.form={VendorName:"",Address:"",Contacts:"",ContactNumber:""},this.modal=!0},edit:function(e){var t=this;this.$api("GET","/Vendor/GetVendorInfo?id=".concat(this.data[e].Id)).then(function(e){var a=e.Data;t.form=a,t.modal=!0})},remove:function(e){this.id=this.data[e].Id,this.modalDele=!0},save:function(){var e=this;this.$refs.ruleValidate.validate(function(t){if(t){var a="/Vendor/AddVendorInfo";e.form.Id&&(a="/Vendor/UpdateVendorInfo"),e.$api("POST",a,e.form).then(function(t){0==t.ErrorCode?(e.$Notice.success({title:"系统提示",desc:"保存成功"}),e.modal=!1,e.page=null,e.getVendor()):e.$Notice.warning({title:"系统提示",desc:t.Message})})}else e.$Notice.warning({title:"系统提示",desc:"请填写相关的信息"})})},deleteM:function(){var e=this;this.$api("GET","/Vendor/DelectVendorInfo?id=".concat(this.id)).then(function(t){0==t.ErrorCode?(e.$Notice.success({title:"系统提示",desc:"删除成功"}),e.modalDele=!1,e.page=null,e.getVendor()):e.$Notice.warning({title:"系统提示",desc:t.Message})})}}},o=(a("0334"),a("2877")),r=Object(o.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"btn-bar clear"},[a("div",{staticClass:"fl"},[a("Button",{style:{marginRight:"6px"},attrs:{type:"info",icon:"md-add"},on:{click:e.add}},[e._v("添加供应商")]),a("Button",{attrs:{icon:"md-refresh"},on:{click:e.getVendor}},[e._v("刷新")])],1),a("div",{staticClass:"fr"},[a("Input",{staticStyle:{width:"200px"},style:{marginRight:"6px"},attrs:{placeholder:"请输入商品名称、商品条形码搜索"}}),a("Button",[e._v("搜索")]),a("FiltrateButton",{attrs:{columns:e.columns},on:{updateColumns:e.updateColumns}})],1)]),a("div",{staticClass:"table-section"},[a("Table",{attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data},scopedSlots:e._u([{key:"action",fn:function(t){t.row;var n=t.index;return[a("Button",{staticStyle:{"margin-right":"12px"},attrs:{type:"info",size:"small"},on:{click:function(t){return e.edit(n)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){return e.remove(n)}}},[e._v("删除")])]}}])})],1),e.page?a("iPage",{attrs:{pageSize:e.page.pageSize,current:e.page.pageIndex,total:e.page.pageCount},on:{onChange:e.onChange,onPageSizeChange:e.onPageSizeChange}}):e._e(),a("Modal",{attrs:{width:"500","footer-hide":!0,title:"供应商"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("Form",{ref:"ruleValidate",attrs:{model:e.form,rules:e.ruleValidate,"label-width":100}},[a("FormItem",{attrs:{label:"供应商名称",prop:"VendorName"}},[a("Input",{attrs:{placeholder:"请输入供应商名称"},model:{value:e.form.VendorName,callback:function(t){e.$set(e.form,"VendorName",t)},expression:"form.VendorName"}})],1),a("FormItem",{attrs:{label:"地址"}},[a("Input",{attrs:{placeholder:"请输入地址"},model:{value:e.form.Address,callback:function(t){e.$set(e.form,"Address",t)},expression:"form.Address"}})],1),a("FormItem",{attrs:{label:"联系人"}},[a("Input",{attrs:{placeholder:"请输入联系人"},model:{value:e.form.Contacts,callback:function(t){e.$set(e.form,"Contacts",t)},expression:"form.Contacts"}})],1),a("FormItem",{attrs:{label:"联系电话"}},[a("Input",{attrs:{placeholder:"请输入电话"},model:{value:e.form.ContactNumber,callback:function(t){e.$set(e.form,"ContactNumber",t)},expression:"form.ContactNumber"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.modal=!1}}},[e._v("取消")])],1)],1)],1),a("Modal",{attrs:{width:"360"},model:{value:e.modalDele,callback:function(t){e.modalDele=t},expression:"modalDele"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),a("span",[e._v("删除确认")])],1),a("div",{staticStyle:{"text-align":"center"}},[a("p",[e._v("确定要删除此供应商吗？删除后将无法恢复")])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:""},on:{click:e.deleteM}},[e._v("删除")])],1)])],1)},[],!1,null,"3641a7e1",null);t.default=r.exports},"8bb9":function(e,t,a){}}]);