(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-13fbdd72"],{"0cd8":function(e,t,n){"use strict";n.r(t);var i={data:function(){return{loading:!1,modal:!1,id:null,columns:[{title:"分组名称",key:"GroupName"},{title:"分组维度",key:"GroupDimension"},{title:"设备数量",key:"MachineCount"},{title:"添加人",key:"RecordUserName"},{title:"添加时间",key:"RecordTime"},{title:"操作",slot:"action",width:140}],data:[],groupDimension:[],page:null,query:{GroupName:"",GroupDimension:"",pageSize:null,pageIndex:null}}},created:function(){this.getMachineGroup(),this.getGroupDimension()},methods:{updateColumns:function(e){this.columns=e},search:function(){this.page=null,this.getMachineGroup()},getGroupDimension:function(){var e=this;this.$api("GET","/MachineGroup/GetGroupDimensionList").then(function(t){0===t.ErrorCode&&(e.groupDimension=t.Data)})},getMachineGroup:function(){var e=this;this.loading=!0,this.page?(this.query.pageSize=this.page.pageSize,this.query.pageIndex=this.page.pageIndex):(this.query.pageSize=10,this.query.pageIndex=1),this.$api("POST","/MachineGroup/GetMachineGroupList",this.query).then(function(t){e.loading=!1,0===t.ErrorCode&&(e.data=t.Data,e.page={pageCount:t.TotalRecords,pageIndex:e.query.pageIndex,pageSize:e.query.pageSize})})},onChange:function(e){this.page.pageIndex=1*e,this.getMachineGroup()},onPageSizeChange:function(e){this.page.pageSize=1*e,this.getMachineGroup()},handle:function(){this.$router.push("/terminal/group/handle")},edit:function(e){this.$router.push("/terminal/group/handle/".concat(this.data[e].Id))},remove:function(e){this.id=this.data[e].Id,this.modal=!0},del:function(){var e=this;this.$api("POST","/MachineGroup/DeleteMachineGroup",{Id:this.id}).then(function(t){0==t.ErrorCode?(e.$Notice.success({title:"系统提示",desc:"删除成功"}),e.modal=!1,e.page=null,e.getMachineGroup()):e.$Notice.warning({title:"系统提示",desc:t.Message})})}}},a=(n("0f56"),n("2877")),o=Object(a.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"btn-bar clear"},[n("div",{staticClass:"fl"},[n("Button",{style:{marginRight:"6px"},attrs:{type:"info",icon:"md-add"},on:{click:e.handle}},[e._v("添加设备分组")]),n("Button",{style:{marginRight:"26px"},attrs:{icon:"md-refresh"},on:{click:e.getMachineGroup}},[e._v("刷新")]),n("Form",{style:{display:"inline-block"},attrs:{"label-position":"left","label-width":74}},[n("FormItem",{attrs:{label:"分组维度"}},[n("Select",{style:{width:"200px"},attrs:{placeholder:"请选择分组维度"},model:{value:e.query.GroupDimension,callback:function(t){e.$set(e.query,"GroupDimension",t)},expression:"query.GroupDimension"}},e._l(e.groupDimension,function(t,i){return n("Option",{key:i,attrs:{value:t}},[e._v(e._s(t))])}),1)],1)],1)],1),n("div",{staticClass:"fr"},[n("Input",{staticStyle:{width:"200px"},style:{marginRight:"6px"},attrs:{placeholder:"请输入分组名称"},model:{value:e.query.GroupName,callback:function(t){e.$set(e.query,"GroupName",t)},expression:"query.GroupName"}}),n("Button",{on:{click:e.search}},[e._v("搜索")]),n("FiltrateButton",{attrs:{columns:e.columns},on:{updateColumns:e.updateColumns}})],1)]),n("div",{staticClass:"table-section"},[n("Table",{attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data},scopedSlots:e._u([{key:"action",fn:function(t){t.row;var i=t.index;return[n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"info",size:"small"},on:{click:function(t){return e.edit(i)}}},[e._v("编辑")]),n("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){return e.remove(i)}}},[e._v("删除")])]}}])})],1),e.page?n("iPage",{attrs:{pageSize:e.page.pageSize,current:e.page.pageIndex,total:e.page.pageCount},on:{onChange:e.onChange,onPageSizeChange:e.onPageSizeChange}}):e._e(),n("Modal",{attrs:{width:"360"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[n("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("Icon",{attrs:{type:"ios-information-circle"}}),n("span",[e._v("删除提示")])],1),n("div",{staticStyle:{"text-align":"center"}},[n("p",[e._v("是否确定要删除该分组信息?")]),n("p",[e._v("删除后将无法恢复")])]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"error",size:"large",long:""},on:{click:e.del}},[e._v("确定删除")])],1)])],1)},[],!1,null,"d81682b8",null);t.default=o.exports},"0f56":function(e,t,n){"use strict";var i=n("71bd");n.n(i).a},"71bd":function(e,t,n){}}]);