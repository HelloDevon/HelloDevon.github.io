(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-66082670"],{9842:function(t,e,a){},aabc:function(t,e,a){"use strict";a.r(e);var o={data:function(){return{loading:!1,modal:!1,page:null,query:{Status:"",BeginDate:"",EndDate:"",pageSize:null,pageIndex:null},data:[],columns:[{title:"商户编码",key:"SubMerId"},{title:"商户名称",key:"SubMerName"},{title:"商户类型",key:"MerchantTypeName"},{title:"所属运营商",key:"OperatorName"},{title:"申请人",key:"ApplyUser"},{title:"申请提现时间",key:"CashTime"},{title:"申请提现金额",key:"CashMoney"},{title:"状态",key:"StatusName"},{title:"卡号",key:"Account"},{title:"到账时间",key:"ArrivalTime"},{title:"操作",slot:"action",width:80}],form:{Id:"",ApprovalStatus:"",NotApprovalReason:""},ruleValidate:{ApprovalStatus:[{required:!0,message:"请输选择是否通过审批",trigger:"blur"}]}}},created:function(){this.getCashApprovalList()},methods:{handle:function(t){this.form={Id:"",ApprovalStatus:"",NotApprovalReason:""},this.form.Id=this.data[t].Id,this.modal=!0},save:function(){var t=this;this.$refs.ruleValidate.validate(function(e){e&&t.$api("POST","/Cash/CashApproval",t.form).then(function(e){0===e.ErrorCode?(t.getCashApprovalList(),t.$Notice.success({title:"系统提示",desc:"操作成功"}),t.modal=!1):t.$Notice.warning({title:"系统提示",desc:e.Message})})})},updateColumns:function(t){this.columns=t},getCashApprovalList:function(){var t=this;this.loading=!0,this.page?(this.query.pageSize=this.page.pageSize,this.query.pageIndex=this.page.pageIndex):(this.query.pageSize=10,this.query.pageIndex=1),this.$api("POST","/Cash/GetCashApprovalList",this.query).then(function(e){t.loading=!1,0===e.ErrorCode?(t.data=e.Data,t.page={pageCount:e.TotalRecords,pageIndex:t.query.pageIndex,pageSize:t.query.pageSize}):t.$Notice.warning({title:"系统提示",desc:e.Message})})},onChange:function(t){this.page.pageIndex=1*t,this.getCashRecordList()},onPageSizeChange:function(t){this.page.pageSize=1*t,this.getCashRecordList()}}},i=(a("f0c6"),a("2877")),s=Object(i.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"btn-bar clear"},[a("div",{staticClass:"fl"},[a("Button",{style:{marginRight:"42px"},attrs:{icon:"md-refresh"},on:{click:t.getCashApprovalList}},[t._v("刷新")])],1),a("FiltrateButton",{staticClass:"fr",attrs:{columns:t.columns},on:{updateColumns:t.updateColumns}})],1),a("div",{staticClass:"table-section"},[a("Table",{attrs:{loading:t.loading,border:"",columns:t.columns,data:t.data},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.row,i=e.index;return[0===o.Status?a("Button",{attrs:{type:"info",size:"small"},on:{click:function(e){return t.handle(i)}}},[t._v("审批")]):a("Button",{attrs:{disabled:"",type:"info",size:"small"}},[t._v("审批")])]}}])})],1),t.page?a("iPage",{attrs:{pageSize:t.page.pageSize,current:t.page.pageIndex,total:t.page.pageCount},on:{onChange:t.onChange,onPageSizeChange:t.onPageSizeChange}}):t._e(),a("Modal",{attrs:{width:"500","footer-hide":!0,title:"审批"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("Form",{ref:"ruleValidate",attrs:{model:t.form,rules:t.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"是否通过",prop:"ApprovalStatus"}},[a("Select",{model:{value:t.form.ApprovalStatus,callback:function(e){t.$set(t.form,"ApprovalStatus",e)},expression:"form.ApprovalStatus"}},[a("Option",{attrs:{value:"1"}},[t._v("通过")]),a("Option",{attrs:{value:"2"}},[t._v("不通过")])],1)],1),2==t.form.ApprovalStatus?a("FormItem",{attrs:{label:"原因"}},[a("Input",{attrs:{type:"textarea",rows:4},model:{value:t.form.NotApprovalReason,callback:function(e){t.$set(t.form,"NotApprovalReason",e)},expression:"form.NotApprovalReason"}})],1):t._e(),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){t.modal=!1}}},[t._v("取消")])],1)],1)],1)],1)},[],!1,null,"3774f261",null);e.default=s.exports},f0c6:function(t,e,a){"use strict";var o=a("9842");a.n(o).a}}]);